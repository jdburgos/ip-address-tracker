{"version":3,"sources":["components/Header/Header.module.scss","components/UI/Input/Input.module.scss","App.module.scss","components/UI/Card/Card.module.scss","components/Map/Map.module.scss","store/address/address.reducer.ts","store/index.ts","hooks/react-redux/index.ts","components/UI/Input/Input.tsx","store/address/address.actions.ts","components/Header/Header.tsx","components/UI/Card/Card.tsx","components/Map/Map.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","addressSlice","createSlice","name","initialState","data","ip","isp","city","country","position","postalCode","timezone","reducers","setAddress","state","action","payload","addressActions","actions","store","configureStore","reducer","address","addressReducer","useAppSelector","useSelector","Input","ipRef","useRef","dispatch","useDispatch","trackIpHandler","e","isEnterKey","isClick","type","undefined","getModifierState","isKeyboardEvent","key","current","value","trim","test","a","fetchData","fetch","process","response","ok","Error","json","ipAddress","location","lat","lng","addressData","console","log","fetchAddressData","ref","className","styles","input","placeholder","onKeyUp","bind","input__btn","onClick","Header","header","header__content","header__title","header__image","src","alt","Card","children","clssName","classes","card","icon","L","Icon","iconUrl","iconRetinaUrl","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","Point","Map","MapContainer","center","zoom","scrollWheelZoom","map","MapConsumer","panTo","TileLayer","attribution","url","Marker","App","content","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3cf24511.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1v0yI\",\"header__content\":\"Header_header__content__1kpdW\",\"header__title\":\"Header_header__title__2hFUs\",\"header__image\":\"Header_header__image__1x8f2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1Dl9g\",\"input__btn\":\"Input_input__btn__35buB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app__address-description\":\"App_app__address-description__2pvxD\",\"app__description-item\":\"App_app__description-item__3KX1w\",\"app__description-label\":\"App_app__description-label__tU4yB\",\"app__description-text\":\"App_app__description-text__3OnUz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2jlaB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"Map_map__UaOG-\"};","/** Dependencies **/\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\n/** Interfaces **/\nimport { IAddress } from '../../interfaces/address.interface';\n\nexport interface AddressState {\n  data: IAddress;\n}\n\nconst initialAddressState: AddressState = {\n  data: {\n    ip: '',\n    isp: '',\n    city: '',\n    country: '',\n    position: [0, 0],\n    postalCode: '',\n    timezone: '',\n  },\n};\n\nconst addressSlice = createSlice({\n  name: 'address',\n  initialState: initialAddressState,\n  reducers: {\n    setAddress(state: AddressState, action: PayloadAction<IAddress>) {\n      state.data = action.payload;\n    },\n  },\n});\n\nexport const addressActions = addressSlice.actions;\n\nexport default addressSlice.reducer;\n","/** Dependencies **/\nimport { configureStore } from '@reduxjs/toolkit';\n\n/** Reducers **/\nimport addressReducer from './address/address.reducer';\n\nconst store = configureStore({\n  reducer: {\n    address: addressReducer,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","/** Dependencies **/\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\n\n/** Store **/\nimport { AppDispatch, RootState } from '../../store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","/** React core **/\nimport React, { useRef } from 'react';\n\n/** Styles **/\nimport styles from './Input.module.scss';\n\n/** Actions **/\nimport { fetchAddressData } from '../../../store/address/address.actions';\n\n/** Hooks **/\nimport { useAppDispatch } from '../../../hooks/react-redux';\n\ntype ChangeEvent = React.KeyboardEvent | React.MouseEvent;\n\nconst isKeyboardEvent = (e: ChangeEvent): e is React.KeyboardEvent => {\n  return (e as React.KeyboardEvent).getModifierState !== undefined;\n};\n\nexport const Input = () => {\n  const ipRef = useRef<HTMLInputElement>(null);\n  const dispatch = useAppDispatch();\n\n  const trackIpHandler = (e: ChangeEvent) => {\n    const ipRegex = /\\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\.|$)){4}\\b/g;\n    const isClick = e.type === 'click';\n    let isEnterKey;\n\n    if (isKeyboardEvent(e)) {\n      isEnterKey = e.key === 'Enter' && e.type === 'keyup';\n    }\n\n    const ip = ipRef.current!.value.trim();\n    const isIp = ipRegex.test(ip);\n    const isValid = isIp && (isClick || isEnterKey);\n\n    if (isValid) {\n      dispatch(fetchAddressData(ip));\n    }\n  };\n\n  return (\n    <div>\n      <input\n        ref={ipRef}\n        className={styles.input}\n        type=\"text\"\n        placeholder=\"Search for any IP address or domain\"\n        onKeyUp={trackIpHandler.bind(this)}\n      />\n      <button className={styles.input__btn} type=\"button\" onClick={trackIpHandler}>\n        &gt;\n      </button>\n    </div>\n  );\n};\n","/** Interfaces **/\nimport { IAddress } from '../../interfaces/address.interface';\n\n/** Actions **/\nimport { addressActions } from './address.reducer';\n\nexport const fetchAddressData = (ip: string) => {\n  return async (dispatch: (arg0: { payload: IAddress; type: string }) => void) => {\n    const fetchData = async (): Promise<IAddress> => {\n      const apiKey = process.env.REACT_APP_API_KEY;\n      const response = await fetch(`https://geo.ipify.org/api/v1?apiKey=${apiKey}&ipAddress=${ip}`);\n\n      if (!response.ok) {\n        throw new Error('Could not fetch cart data!');\n      }\n\n      const data = await response.json();\n      const { ip: ipAddress, isp, location } = data;\n      const { city, country, lat, lng, postalCode, timezone } = location;\n\n      return { ip: ipAddress, isp, city, country, position: [lat, lng], postalCode, timezone };\n    };\n\n    try {\n      const addressData = await fetchData();\n\n      dispatch(addressActions.setAddress(addressData));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n","/** Components **/\nimport { Input } from '../UI/Input';\n\n/** Styles **/\nimport styles from './Header.module.scss';\n\nexport const Header = () => {\n  return (\n    <header className={styles.header}>\n      <div className={styles.header__content}>\n        <h1 className={styles.header__title}>IP Address Tracker</h1>\n        <Input />\n      </div>\n      <img\n        className={styles.header__image}\n        src={`${process.env.PUBLIC_URL}/images/pattern-bg.png`}\n        alt=\"Background\"\n      />\n    </header>\n  );\n};\n","/** React core **/\nimport React from 'react';\n\n/** Styles **/\nimport styles from './Card.module.scss';\n\ntype CardProps = {\n  children: React.ReactNode;\n  className: string;\n};\n\nexport const Card: React.FC<CardProps> = ({ className, children }) => {\n  const clssName = className || '';\n  const classes = `${styles.card} ${clssName}`.trim();\n\n  return <div className={classes}>{children}</div>;\n};\n","/** Dependencies **/\nimport { MapContainer, TileLayer, Marker, MapConsumer } from 'react-leaflet';\nimport L from 'leaflet';\n\n/** Hooks **/\nimport { useAppSelector } from '../../hooks/react-redux';\n\n/** Styles **/\nimport styles from './Map.module.scss';\n\nconst icon = new L.Icon({\n  iconUrl: `${process.env.PUBLIC_URL}/images/icon-location.svg`,\n  iconRetinaUrl: `${process.env.PUBLIC_URL}/images/icon-location.svg`,\n  iconAnchor: undefined,\n  popupAnchor: undefined,\n  shadowUrl: undefined,\n  shadowSize: undefined,\n  shadowAnchor: undefined,\n  iconSize: new L.Point(40, 50),\n});\n\nexport const Map = () => {\n  const position = useAppSelector(({ address }) => address.data.position);\n\n  const mapInstance = (map: { panTo: (arg0: [number, number]) => void }) => {\n    map.panTo(position);\n\n    return null;\n  };\n\n  return (\n    <MapContainer center={position} zoom={13} scrollWheelZoom={false} className={styles.map}>\n      <MapConsumer>{mapInstance}</MapConsumer>\n      <TileLayer\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      <Marker position={position} icon={icon} />\n    </MapContainer>\n  );\n};\n","/** Components **/\nimport { Header } from './components/Header';\nimport { Card } from './components/UI/Card';\nimport { Map } from './components/Map';\n\n/** Hooks **/\nimport { useAppSelector } from './hooks/react-redux';\n\n/** Styles **/\nimport './styles/styles.scss';\nimport styles from './App.module.scss';\n\nconst App = () => {\n  const data = useAppSelector(({ address }) => address.data);\n  let content;\n\n  if (data) {\n    const { ip, isp, city, country, postalCode, timezone } = data;\n\n    content = (\n      <Card className={styles['app__address-description']}>\n        <div className={styles['app__description-item']}>\n          <span className={styles['app__description-label']}>IP ADDRESS</span>\n          <span className={styles['app__description-text']}>{ip}</span>\n        </div>\n        <div className={styles['app__description-item']}>\n          <span className={styles['app__description-label']}>LOCATION</span>\n          <span className={styles['app__description-text']}>\n            {city}, {country} {postalCode}\n          </span>\n        </div>\n        <div className={styles['app__description-item']}>\n          <span className={styles['app__description-label']}>TIMEZONE</span>\n          <span className={styles['app__description-text']}>UTC {timezone}</span>\n        </div>\n        <div className={styles['app__description-item']}>\n          <span className={styles['app__description-label']}>ISP</span>\n          <span className={styles['app__description-text']}>{isp}</span>\n        </div>\n      </Card>\n    );\n  }\n\n  return (\n    <main>\n      <Header />\n      {data.ip && content}\n      <Map />\n    </main>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/** React core **/\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n/** Redux **/\nimport store from './store';\n\n/** Components **/\nimport App from './App';\n\n/** React core **/\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}